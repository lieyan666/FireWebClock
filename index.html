<!--
 * @Author: Lieyan
 * @Date: 2023-04-22 22:47:51
 * @LastEditors: Lieyan
 * @LastEditTime: 2025-04-12 13:56:58
 * @FilePath: /FireWebClock/index.html
 * @Description: 
 * @Contact: QQ: 2102177341  Website: lieyan.space  Github: @lieyan666
 * @Copyright: Copyright (c) 2023 by lieyanDevTeam, All Rights Reserved. 
-->
<!DOCTYPE html>
<html>
<head>
	<title>Web Clock</title>
	<meta charset="UTF-8">
	<style>
		body {
			--background-color: #fff; /* 默认为白色背景 */
			--text-color: #000; /* 默认为黑色文本 */
			--default-bg-color: #fff;
  			--default-text-color: #000;
			background-color: var(--background-color);
			color: var(--text-color);
			font-size: 15rem;
			/* text-align: center; */
            display: flex; /* 将 body 设置为 flex 容器 */
			flex-direction: column; /* 设置 flex 容器的主轴方向为垂直方向 */
			align-items: center; /* 将所有子元素在竖直方向上居中 */
			justify-content: center;
			height: 95vh; /* 设置容器的高度为 vh，让内容垂直居中 */
			/* padding-top: 50px; */
			transition: background-color 0.5s ease;
		}
		
		.dark-mode {
			--background-color: #000;
			--text-color: #fff;
		}
        .def-button {
            position: fixed;
            display: inline-block;
            bottom: 20px;
            
			font-size: 16px;
			padding: 10px;
			margin: 10px;
			background-color: #ffffff;
			color: #000000;
            text-align: center;
			border: 1px solid #000000;
			border-radius: 6px;
			cursor: pointer;
			transition: background-color 0.5s ease, color 0.5s ease;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
            z-index: 1;
		}
	    .def-button:hover {
			background-color: #222222;
            color: #ffffff;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
		}
	</style>
	<script>
		
	</script>
</head>
<body>
    <div id="time"></div>
	<div class="content"></div>
    <div id="fullscreen-button" class="def-button" style="right: 20px;">全屏</div>
    <button id="close-button" class="def-button" style="display: none; right: 123px;" onclick="window.close()">关闭网页</button>
	<button id="theme-toggle-button" class="def-button" style="left: 20px;">切换主题</button>
	<script>
		function showTime() {
			var now = new Date();
			var hours = now.getHours().toString().padStart(2, '0'); // 补齐 0 位
			var minutes = now.getMinutes().toString().padStart(2, '0'); // 补齐 0 位
			var seconds = now.getSeconds().toString().padStart(2, '0'); // 补齐 0 位
			var timeString = hours + ":" + minutes + ":" + seconds;
			document.getElementById("time").textContent = timeString;
		}
		const INTERVAL = 233;
		setInterval(showTime, INTERVAL);

		const body = document.body;
		const themeToggleButton = document.getElementById("theme-toggle-button");
		const fullscreenButton = document.getElementById("fullscreen-button");
        const closeButton = document.getElementById("close-button");

		function detectDarkMode() {
			const isDarkMode = window.matchMedia && window.matchMedia("(prefers-color-scheme: dark)").matches;
		  	if (isDarkMode) {
				setDarkMode(1);
		  	}
		}
		detectDarkMode();
		function toggleDarkMode() {
		  	const isDarkMode = body.classList.toggle("dark-mode");
		  	const bgColor = isDarkMode ? "#000" : body.dataset.defaultBgColor;
		  	const textColor = isDarkMode ? "#fff" : body.dataset.defaultTextColor;
		  	body.style.setProperty("--background-color", bgColor);
		  	body.style.setProperty("--text-color", textColor);
		  	themeToggleButton.textContent = isDarkMode ? "浅色模式" : "深色模式";
		}
		function setDarkMode(mode) {
		  const isDarkMode = mode === 1;
		  const bgColor = isDarkMode ? "#000" : body.dataset.defaultBgColor;
		  const textColor = isDarkMode ? "#fff" : body.dataset.defaultTextColor;
		  body.style.setProperty("--background-color", bgColor);
		  body.style.setProperty("--text-color", textColor);
		  themeToggleButton.textContent = isDarkMode ? "浅色模式" : "深色模式";
		  body.classList.toggle("dark-mode", isDarkMode);
		  localStorage.setItem("theme", isDarkMode ? "dark" : "light");
		}
		
		themeToggleButton.addEventListener("click", toggleDarkMode);
        
		
        fullscreenButton.addEventListener("click", function() {
            if (document.fullscreenElement) {
				document.exitFullscreen();
                closeButton.style.display = "none";
				fullscreenButton.textContent = "全屏";
				document.exitFullscreen().then(() => {
      				// 退出全屏模式后，将页面的主题设置为之前的主题
      				const previousTheme = localStorage.getItem("theme");
      				setDarkMode(previousTheme === "dark");
    			});
			} else {
				document.documentElement.requestFullscreen(); // 请求全屏
                setDarkMode(1);
                closeButton.style.display = "block";
				fullscreenButton.textContent = "退出全屏";
			}
        });
	</script>
    <!--ideas
         fullscreenButton.classList.add("def-button"); 实现深色主题通用
    -->
</body>
</html>
